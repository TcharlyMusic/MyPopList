(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const u of t)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function p(t){const u={};return t.integrity&&(u.integrity=t.integrity),t.referrerPolicy&&(u.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?u.credentials="include":t.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(t){if(t.ep)return;t.ep=!0;const u=p(t);fetch(t.href,u)}})();async function S(){return await(await fetch("./datas/datas.json")).json()}function g(e){return e.Group=="CMD"?'<tr style="background-color:skyblue;">':e.Group=="REC"?'<tr style="background-color:red;">':e.Group=="ABM"?'<tr style="background-color:gray;">':e.Group=="LUC"?'<tr style="background-color:olive;">':e.Gender=="H"?'<tr style="background-color:green;">':"<tr>"}function G(e,l){return e.Num.includes(l)==!0||e.Id.includes(l)==!0||e.Group.includes(l)==!0||e.Group.toUpperCase().includes(l.toUpperCase())==!0||e.Name.includes(l)==!0||e.Name.toUpperCase().includes(l.toUpperCase())==!0}function E(e,l){for(let p=0;p<e.length;p++)if(e[p]==l)return!0;return!1}async function A(){let e='<select id="selectGroup" style="height: 40px; font-size: 16px;">';e+='<option id="selectGroupELL" value="ELL">Pops Possédées</option>',e+='<option id="selectGroupCMD" value="CMD">Pops Commandées</option>',e+='<option id="selectGroupREC" value="REC">Pops Recherchées</option>',e+='<option id="selectGroupABM" value="ABM">Pops Abimées</option>',e+='<option id="selectGroupMAS" value="HOM">Pops Masculines</option>',e+='<option id="selectGroupLUC" value="LUC">Pops chez Lucile</option>',e+='<option id="selectGroupALL" value="ALL">Toutes les Pops</option>',e+="</select>",document.getElementById("divGroupResult").innerHTML=e}async function B(){let e=new Array,l=await S();for(let i=0;i<l.length;i++){let t=l[i];t.License!=""&&E(e,t.License)==!1&&e.push(t.License)}e.sort();let p='<select id="selectLicense" style="height: 40px; font-size: 16px;">';p+='<option value="ALL">Toutes les Licenses</option>';for(let i=0;i<e.length;i++)p+='<option value="'+e[i]+'">'+e[i]+"</option>";p+="</select>",document.getElementById("divLicenseResult").innerHTML=p}async function b(){let e='<select id="selectZone" style="height: 40px; font-size: 16px;">';e+='<option value="ALL">Toutes les Zones</option>',e+='<option value="SA1">SA1</option>',e+='<option value="SA2">SA2</option>',e+='<option value="SA3">SA3</option>',e+='<option value="SA4">SA4</option>',e+='<option value="SA5">SA5</option>',e+='<option value="SA6">SA6</option>',e+='<option value="SA7">SA7</option>',e+='<option value="SB1">SB1</option>',e+='<option value="SB2">SB2</option>',e+='<option value="SB3">SB3</option>',e+='<option value="SB4">SB4</option>',e+='<option value="SB5">SB5</option>',e+='<option value="SB6">SB6</option>',e+='<option value="SB7">SB7</option>',e+='<option value="SC1">SC1</option>',e+='<option value="SC2">SC2</option>',e+='<option value="SC3">SC3</option>',e+='<option value="SC4">SC4</option>',e+='<option value="SC5">SC5</option>',e+='<option value="SC6">SC6</option>',e+='<option value="SC7">SC7</option>',e+='<option value="SD1">SD1</option>',e+='<option value="SD2">SD2</option>',e+='<option value="SD3">SD3</option>',e+='<option value="SD4">SD4</option>',e+='<option value="SD5">SD5</option>',e+='<option value="SD6">SD6</option>',e+='<option value="SD7">SD7</option>',e+='<option value="SE1">SE1</option>',e+='<option value="SE2">SE2</option>',e+='<option value="SE3">SE3</option>',e+='<option value="SE4">SE4</option>',e+='<option value="SE5">SE5</option>',e+='<option value="SE6">SE6</option>',e+='<option value="SE7">SE7</option>',e+='<option value="SF1">SF1</option>',e+='<option value="SF2">SF2</option>',e+='<option value="SF3">SF3</option>',e+='<option value="SF4">SF4</option>',e+='<option value="SF5">SF5</option>',e+='<option value="SF6">SF6</option>',e+='<option value="SF7">SF7</option>',e+='<option value="SG1">SG1</option>',e+='<option value="SG2">SG2</option>',e+='<option value="SG3">SG3</option>',e+='<option value="SG4">SG4</option>',e+='<option value="SG5">SG5</option>',e+='<option value="SG6">SG6</option>',e+='<option value="SG7">SG7</option>',e+='<option value="SH1">SH1</option>',e+='<option value="SH2">SH2</option>',e+='<option value="SH3">SH3</option>',e+='<option value="SH4">SH4</option>',e+='<option value="SH5">SH5</option>',e+='<option value="SH6">SH6</option>',e+='<option value="SH7">SH7</option>',e+="</select>",document.getElementById("divZoneResult").innerHTML=e}async function C(){let e=new Array,l=await S();for(let i=0;i<l.length;i++){let t=l[i];t.Type!=""&&E(e,t.Type)==!1&&e.push(t.Type)}e.sort();let p='<select id="selectType" style="height: 40px; font-size: 16px;">';p+='<option value="ALL">Tous les Types</option>';for(let i=0;i<e.length;i++)p+='<option value="'+e[i]+'">'+e[i]+"</option>";p+="</select>",document.getElementById("divTypeResult").innerHTML=p}async function L(e,l,p,i,t){console.log("CreateTableResults(Group="+e+", License="+l+", Zone="+p+", Type="+i+", inputPopInfoValue="+t+")");let u=0,r=0,a=0,c=0,f=0,v=0,m=0,y=await S(),n='<br><table border="1" width="100%"><tbody>';n+='<tr style="background-color:skyblue;">',n+='<td><b><font color="#000000">Num.</b></td>',n+='<td><b><font color="#000000">Code</b></td>',n+='<td><b><font color="#000000">Zones</b></td>',n+='<td><b><font color="#000000">Infos</b></td>',n+='<td><b><font color="#000000">Prix</b></td>',n+='<td><b><font color="#000000">Etat</b></td>',n+='<td><b><font color="#000000">Genre</b></td>',n+='<td><b><font color="#000000">Type</b></td>',n+='<td><b><font color="#000000">License</b></td>',n+='<td><b><font color="#000000">Nom</b></td>',n+="</tr>";for(let d=0;d<y.length;d++){let o=y[d];r++,o.Group=="CMD"&&a++,o.Group=="REC"&&c++,o.Group=="ABM"&&f++,o.Group=="LUC"&&v++,o.Gender=="H"&&m++,(e=="ALL"||e=="ELL"&&(o.Group==""||o.Group=="ABM"||o.Group=="LUC")||e=="HOM"&&o.Gender=="H"||o.Group==e)&&G(o,t)==!0&&(l=="ALL"||o.License==l)&&(p=="ALL"||o.Zone==p)&&(i=="ALL"||o.Type==i)&&(n+=g(o),n+="<td>"+o.Num+"</td>",n+="<td>"+o.Id+"</td>",n+="<td>"+o.Zone+"</td>",n+="<td>"+o.Group+"</td>",n+="<td>"+o.Price+"</td>",n+="<td>"+o.State+"</td>",n+="<td>"+o.Gender+"</td>",n+="<td>"+o.Type+"</td>",n+="<td>"+o.License+"</td>",n+="<td>"+o.Name+"</td>",n+="</tr>",n+="</tr>"),o.Price!="XXXXXX"&&o.Group!="REC"&&(u+=parseFloat(o.Price*100)/100)}n+="</tbody></table>",document.getElementById("divTableReult").innerHTML=n,document.getElementById("selectGroupELL").text="Pops Possédées ("+(r-c-a)+")",document.getElementById("selectGroupCMD").text="Pops Commandées ("+a+")",document.getElementById("selectGroupREC").text="Pops Recherchées ("+c+")",document.getElementById("selectGroupABM").text="Pops Abimées ("+f+")",document.getElementById("selectGroupMAS").text="Pops Masculines ("+m+")",document.getElementById("selectGroupLUC").text="Pops chez Lucile ("+v+")",document.getElementById("selectGroupALL").text="Toutes les Pops ("+r+")",console.log("Estimation Totale = "+u+" Euros")}async function s(){let e=document.getElementById("selectGroup").value,l=document.getElementById("selectLicense").value,p=document.getElementById("selectZone").value,i=document.getElementById("selectType").value,t=document.getElementById("inputPopInfo").value;L(e,l,p,i,t)}async function h(){document.getElementById("selectGroup").value="ELL",document.getElementById("selectLicense").value="ALL",document.getElementById("selectZone").value="ALL",document.getElementById("selectType").value="ALL",document.getElementById("inputPopInfo").value="",await L("ELL","ALL","ALL","ALL","")}async function I(){await A(),await B(),await b(),await C(),document.getElementById("buttonReset").addEventListener("click",h),document.getElementById("selectGroup").addEventListener("change",s),document.getElementById("selectLicense").addEventListener("change",s),document.getElementById("selectZone").addEventListener("change",s),document.getElementById("selectType").addEventListener("change",s),document.getElementById("inputPopInfo").addEventListener("keyup",s),await L("ELL","ALL","ALL","ALL",""),document.getElementById("inputPopInfo").focus(),document.getElementById("versionOfPops").innerHTML="Version 0.9.5 (2024-11-27)"}I();
