(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();async function m(){return await(await fetch("./datas/datas.json")).json()}function L(e){return e.Infos=="CMD"?'<tr style="background-color:skyblue;">':e.Infos=="REC"?'<tr style="background-color:red;">':e.Infos=="ABM"?'<tr style="background-color:gray;">':e.Genre=="H"?'<tr style="background-color:green;">':"<tr>"}function b(e,o){return e.Numero.includes(o)==!0||e.CodeBarre.includes(o)==!0||e.Infos.includes(o)==!0||e.Infos.toUpperCase().includes(o.toUpperCase())==!0||e.NomComplet.includes(o)==!0||e.NomComplet.toUpperCase().includes(o.toUpperCase())==!0}async function E(){let e='<select id="selectTypeSearch">';e+='<option id="selectTypeSearchELL" value="ELL">Pops Présentées</option>',e+='<option id="selectTypeSearchCMD" value="CMD">Pops Commandées</option>',e+='<option id="selectTypeSearchREC" value="REC">Pops Recherchées</option>',e+='<option id="selectTypeSearchABM" value="ABM">Pops Abimées</option>',e+='<option id="selectTypeSearchMAS" value="HOM">Pops Masculines</option>',e+='<option id="selectTypeSearchALL" value="ALL">Toutes les Pops</option>',e+="</select>",document.getElementById("divTypeSearchResult").innerHTML=e}function g(e,o){for(let s=0;s<e.length;s++)if(e[s]==o)return!0;return!1}async function h(){let e=new Array,o=await m();for(let l=0;l<o.length;l++){let n=o[l];n.License!=""&&g(e,n.License)==!1&&e.push(n.License)}e.sort();let s='<select id="selectLicense">';s+='<option value="ALL">Toutes les Licenses</option>';for(let l=0;l<e.length;l++)s+='<option value="'+e[l]+'">'+e[l]+"</option>";s+="</select>",document.getElementById("divLicenseResult").innerHTML=s}async function y(e,o,s){console.log("CreateTableResults(inputPopInfoValue="+e+", TypeSearch="+o+", License="+s+")");let l=0,n=0,c=0,i=0,u=0,f=0,p=await m(),t='<br><table border="1" width="100%"><tbody>';t+='<tr style="background-color:skyblue;">',t+='<td><b><font color="#000000">Numéro</b></td>',t+='<td><b><font color="#000000">Code Barre</b></td>',t+='<td><b><font color="#000000">Infos</b></td>',t+='<td><b><font color="#000000">Estimation</b></td>',t+='<td><b><font color="#000000">Etat</b></td>',t+='<td><b><font color="#000000">Genre</b></td>',t+='<td><b><font color="#000000">Type de Pop</b></td>',t+='<td><b><font color="#000000">License</b></td>',t+='<td><b><font color="#000000">Nom complet</b></td>',t+="</tr>";for(let d=0;d<p.length;d++){let r=p[d];n++,r.Infos=="CMD"&&c++,r.Infos=="REC"&&i++,r.Infos=="ABM"&&u++,r.Genre=="H"&&f++,(o=="ALL"||o=="ELL"&&(r.Infos==""||r.Infos=="ABM")||o=="HOM"&&r.Genre=="H"||r.Infos==o)&&b(r,e)==!0&&(s=="ALL"||r.License==s)&&(t+=L(r),t+="<td>"+r.Numero+"</td>",t+="<td>"+r.CodeBarre+"</td>",t+="<td>"+r.Infos+"</td>",t+="<td>"+r.Estimation+"</td>",t+="<td>"+r.Etat+"</td>",t+="<td>"+r.Genre+"</td>",t+="<td>"+r.TypeDePop+"</td>",t+="<td>"+r.License+"</td>",t+="<td>"+r.NomComplet+"</td>",t+="</tr>",t+="</tr>"),r.Estimation!="XXXXXX"&&r.Infos!="REC"&&(l+=parseFloat(r.Estimation*100)/100)}t+="</tbody></table>",document.getElementById("divTableReult").innerHTML=t,document.getElementById("selectTypeSearchELL").text="Pops Possédées ("+(n-i-c)+")",document.getElementById("selectTypeSearchCMD").text="Pops Commandées ("+c+")",document.getElementById("selectTypeSearchREC").text="Pops Recherchées ("+i+")",document.getElementById("selectTypeSearchABM").text="Pops Abimées ("+u+")",document.getElementById("selectTypeSearchMAS").text="Pops Masculines ("+f+")",document.getElementById("selectTypeSearchALL").text="Toutes les Pops ("+n+")",console.log("Estimation Totale = "+l+" Euros")}async function a(){let e=document.getElementById("inputPopInfo").value,o=document.getElementById("selectTypeSearch").value,s=document.getElementById("selectLicense").value;y(e,o,s)}async function I(){await E(),await h(),document.getElementById("selectTypeSearch").addEventListener("change",a),document.getElementById("selectLicense").addEventListener("change",a),document.getElementById("inputPopInfo").addEventListener("keyup",a),await y("","ALL","ALL"),document.getElementById("inputPopInfo").focus(),document.getElementById("versionOfPops").innerHTML="Version 0.9.1"}I();
