(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&t(p)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();async function a(){return await(await fetch("./datas/datas.json")).json()}function E(e,o){return o=="ALL"||o=="LUC"&&e.Group=="LUC"||o=="HOM"&&e.Gender=="H"||o=="ABM"&&e.Group=="ABM"||o=="REC"&&e.Group=="REC"||o=="CMD"&&e.Group=="CMD"||o=="POS"&&(e.Group=="TOP"||e.Group=="ABM"||e.Group=="LUC")}function A(e,o){return o=="ALL"||e.License==o}function G(e,o){return o=="ALL"||e.Zone==o}function B(e,o){return o=="ALL"||e.Type==o}function I(e,o){return e.Num.includes(o)==!0||e.Id.includes(o)==!0||e.Group.includes(o)==!0||e.Group.toUpperCase().includes(o.toUpperCase())==!0||e.Name.includes(o)==!0||e.Name.toUpperCase().includes(o.toUpperCase())==!0}function b(e){return e.Group=="CMD"?'<tr style="background-color:skyblue;">':e.Group=="REC"?'<tr style="background-color:red;">':e.Group=="ABM"?'<tr style="background-color:gray;">':e.Group=="LUC"?'<tr style="background-color:olive;">':e.Gender=="H"?'<tr style="background-color:green;">':"<tr>"}function C(e,o){for(let i=0;i<e.length;i++)if(e[i]==o)return!0;return!1}function P(e,o,i){for(let t=0;t<e.length;t++)if(e[t][o]==i)return e[t];return null}async function h(){let e='<select id="selectGroup" style="height: 40px; font-size: 16px;">';e+='<option id="selectGroupPOS" value="POS">Pops Possédées</option>',e+='<option id="selectGroupCMD" value="CMD">Pops Commandées</option>',e+='<option id="selectGroupREC" value="REC">Pops Recherchées</option>',e+='<option id="selectGroupABM" value="ABM">Pops Abimées</option>',e+='<option id="selectGroupMAS" value="HOM">Pops Masculines</option>',e+='<option id="selectGroupLUC" value="LUC">Pops chez Lucile</option>',e+='<option id="selectGroupALL" value="ALL">Toutes les Pops</option>',e+="</select>",document.getElementById("divGroupResult").innerHTML=e}async function T(){let e=new Array,o=await a();for(let t=0;t<o.length;t++){let n=o[t];n.License!=""&&C(e,n.License)==!1&&e.push(n.License)}e.sort();let i='<select id="selectLicense" style="height: 40px; font-size: 16px;">';i+='<option value="ALL">Toutes les Licenses</option>';for(let t=0;t<e.length;t++)i+='<option value="'+e[t]+'">'+e[t]+"</option>";i+="</select>",document.getElementById("divLicenseResult").innerHTML=i}async function M(){let e='<select id="selectZone" style="height: 40px; font-size: 16px;">';e+='<option value="ALL">Toutes les Zones</option>',e+='<option value="SA1">SA1</option>',e+='<option value="SA2">SA2</option>',e+='<option value="SA3">SA3</option>',e+='<option value="SA4">SA4</option>',e+='<option value="SA5">SA5</option>',e+='<option value="SA6">SA6</option>',e+='<option value="SA7">SA7</option>',e+='<option value="SB1">SB1</option>',e+='<option value="SB2">SB2</option>',e+='<option value="SB3">SB3</option>',e+='<option value="SB4">SB4</option>',e+='<option value="SB5">SB5</option>',e+='<option value="SB6">SB6</option>',e+='<option value="SB7">SB7</option>',e+='<option value="SC1">SC1</option>',e+='<option value="SC2">SC2</option>',e+='<option value="SC3">SC3</option>',e+='<option value="SC4">SC4</option>',e+='<option value="SC5">SC5</option>',e+='<option value="SC6">SC6</option>',e+='<option value="SC7">SC7</option>',e+='<option value="SD1">SD1</option>',e+='<option value="SD2">SD2</option>',e+='<option value="SD3">SD3</option>',e+='<option value="SD4">SD4</option>',e+='<option value="SD5">SD5</option>',e+='<option value="SD6">SD6</option>',e+='<option value="SD7">SD7</option>',e+='<option value="SE1">SE1</option>',e+='<option value="SE2">SE2</option>',e+='<option value="SE3">SE3</option>',e+='<option value="SE4">SE4</option>',e+='<option value="SE5">SE5</option>',e+='<option value="SE6">SE6</option>',e+='<option value="SE7">SE7</option>',e+='<option value="SF1">SF1</option>',e+='<option value="SF2">SF2</option>',e+='<option value="SF3">SF3</option>',e+='<option value="SF4">SF4</option>',e+='<option value="SF5">SF5</option>',e+='<option value="SF6">SF6</option>',e+='<option value="SF7">SF7</option>',e+='<option value="SG1">SG1</option>',e+='<option value="SG2">SG2</option>',e+='<option value="SG3">SG3</option>',e+='<option value="SG4">SG4</option>',e+='<option value="SG5">SG5</option>',e+='<option value="SG6">SG6</option>',e+='<option value="SG7">SG7</option>',e+='<option value="SH1">SH1</option>',e+='<option value="SH2">SH2</option>',e+='<option value="SH3">SH3</option>',e+='<option value="SH4">SH4</option>',e+='<option value="SH5">SH5</option>',e+='<option value="SH6">SH6</option>',e+='<option value="SH7">SH7</option>',e+='<option value="BOY">BOY</option>',e+='<option value="CA1">CA1</option>',e+='<option value="CA2">CA2</option>',e+='<option value="CA3">CA3</option>',e+='<option value="CA4">CA4</option>',e+='<option value="CUI">CUI</option>',e+="</select>",document.getElementById("divZoneResult").innerHTML=e}async function O(){let e=new Array,o=await a();for(let t=0;t<o.length;t++){let n=o[t];n.Type!=""&&C(e,n.Type)==!1&&e.push(n.Type)}e.sort();let i='<select id="selectType" style="height: 40px; font-size: 16px;">';i+='<option value="ALL">Tous les Types</option>';for(let t=0;t<e.length;t++)i+='<option value="'+e[t]+'">'+e[t]+"</option>";i+="</select>",document.getElementById("divTypeResult").innerHTML=i}async function D(){let e=new Array,o=await a();for(let i=0;i<o.length;i++){let t=o[i];if(t.Id!=""){let n=P(e,"Id",t.Id);n==null?e.push(t):n.Num==t.Num||console.log("ATTENTION: Id already exist : Id="+t.Id+" / Num="+t.Num)}else console.log("ATTENTION: No Id for this Pop : Num="+t.Num+", Type="+t.Type+", Name="+t.Name)}for(let i=0;i<o.length;i++){let t=o[i];t.Group!="ABM"&&t.Group!="REC"&&t.Group!="CMD"&&t.Group!="LUC"&&t.Group!="TOP"&&console.log("ATTENTION: No Id for this Pop : Num="+t.Num+", Group="+t.Group+", Name="+t.Name)}}async function s(){let e=document.getElementById("selectGroup").value,o=document.getElementById("selectLicense").value,i=document.getElementById("selectZone").value,t=document.getElementById("selectType").value,n=document.getElementById("inputPopInfo").value;v(e,o,i,t,n)}async function N(){document.getElementById("selectGroup").value="TOP",document.getElementById("selectLicense").value="ALL",document.getElementById("selectZone").value="ALL",document.getElementById("selectType").value="ALL",document.getElementById("inputPopInfo").value="",await v("POS","ALL","ALL","ALL","")}async function v(e,o,i,t,n){console.log("CreateTableResults(Group="+e+", License="+o+", Zone="+i+", Type="+t+", inputPopInfoValue="+n+")");let r=0,p=0,c=0,d=0,f=0,m=0,y=0,L=0,g=await a(),l='<br><table border="1" width="100%"><tbody>';l+='<tr style="background-color:skyblue;">',l+='<td><b><font color="#000000">Num.</b></td>',l+='<td><b><font color="#000000">Code</b></td>',l+='<td><b><font color="#000000">Zones</b></td>',l+='<td><b><font color="#000000">Infos</b></td>',l+='<td><b><font color="#000000">Prix</b></td>',l+='<td><b><font color="#000000">Etat</b></td>',l+='<td><b><font color="#000000">Genre</b></td>',l+='<td><b><font color="#000000">Type</b></td>',l+='<td><b><font color="#000000">License</b></td>',l+='<td><b><font color="#000000">Nom</b></td>',l+="</tr>";for(let S=0;S<g.length;S++){let u=g[S];c++,u.Group=="CMD"&&d++,u.Group=="REC"&&f++,u.Group=="ABM"&&m++,u.Group=="LUC"&&y++,u.Gender=="H"&&L++,E(u,e)==!0&&A(u,o)==!0&&G(u,i)==!0&&B(u,t)==!0&&I(u,n)==!0&&(l+=b(u),l+="<td>"+u.Num+"</td>",l+="<td>"+u.Id+"</td>",l+="<td>"+u.Zone+"</td>",l+="<td>"+u.Group+"</td>",l+="<td>"+u.Price+"</td>",l+="<td>"+u.State+"</td>",l+="<td>"+u.Gender+"</td>",l+="<td>"+u.Type+"</td>",l+="<td>"+u.License+"</td>",l+="<td>"+u.Name+"</td>",l+="</tr>",l+="</tr>",r++),u.Price!="XXXXXX"&&u.Group!="REC"&&(p+=parseFloat(u.Price*100)/100)}l+="</tbody></table>",document.getElementById("divTableReult").innerHTML=l,document.getElementById("selectGroupPOS").text="Pops Possédées ("+(c-f-d)+")",document.getElementById("selectGroupCMD").text="Pops Commandées ("+d+")",document.getElementById("selectGroupREC").text="Pops Recherchées ("+f+")",document.getElementById("selectGroupABM").text="Pops Abimées ("+m+")",document.getElementById("selectGroupMAS").text="Pops Masculines ("+L+")",document.getElementById("selectGroupLUC").text="Pops chez Lucile ("+y+")",document.getElementById("selectGroupALL").text="Toutes les Pops ("+c+")",document.getElementById("versionOfPops").innerHTML="Pops found = "+r+" / Version 0.9.5 (2024-11-27)",console.log("Estimation Totale = "+p+" Euros")}async function H(){await h(),await T(),await M(),await O(),await D(),document.getElementById("buttonReset").addEventListener("click",N),document.getElementById("selectGroup").addEventListener("change",s),document.getElementById("selectLicense").addEventListener("change",s),document.getElementById("selectZone").addEventListener("change",s),document.getElementById("selectType").addEventListener("change",s),document.getElementById("inputPopInfo").addEventListener("keyup",s),await v("POS","ALL","ALL","ALL",""),document.getElementById("inputPopInfo").focus()}H();
